<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eat wild</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header class="site-header">
        <img src="favicon.svg" alt="Eat Wild Logo" class="logo">
        <h1 class="site-title">eat wild</h1>
    </header>

    <nav class="side-nav">
        <ul>
            <li><a href="#experiences">experiences</a></li>
            <li><a href="#research">research</a></li>
            <li><a href="#products">products</a></li>
            <li><a href="#partner">partner</a></li>
            <li><a href="#about">about</a></li>
            <li><a href="#contact">contact</a></li>
        </ul>
    </nav>

    <main class="content">
        <section id="experiences">
            <h1>experiences</h1>
            <p>sf sunset mussels catch and cook: fine wine, fresh baguettes, and moules marini√®res oceanside with
                a sunset view - sunday 11/2 @ 1pm, $200 pp, $2k buyout (max 14 people), <a
                    href="mailto:ben.imadali@gmail.com">book</a></p>
        </section>

        <section id="research">
            <h1>research</h1>
            <p>in progress - investigating sea urchin RAS (Recirculating Aquaculture System) ranching in urban
                environments</p>
            <p>coming soon - investigating underwater ROV (drone) sea urchin population management</p>
        </section>

        <section id="products">
            <h1>products</h1>
            <p>coming soon</p>
        </section>

        <section id="partner">
            <h1>partner</h1>
            <p><a href="mailto:ben.imadali@gmail.com">reach out</a></p>
            </p>
        </section>

        <section id="about">
            <h1>about</h1>
            <p>We were founded on principles of sustainability and respect for wild spaces and the people who care for
                them</p>
            <p>We believe fostering meaningful connections between people and nature push people to realize how much
                they need earth</p>
            <p>Ben Imadali - born in Boston, raised in Phoenix as a desert kid, fell in love with Northern California
                land, ocean, and people</p>
            <p>Ellen Scott-Young - born in Gold Coast, Australia, grew up on a tidal river with a deep love for the
                ocean</p>
        </section>

        <section id="contact">
            <h1>contact</h1>
            <p><a href="mailto:ben.imadali@gmail.com">reach out</a></p>
        </section>
    </main>

    <script>
        let lastScrollTop = 0;
        let lastScrollTime = Date.now();
        let isScrolling = false;
        const header = document.querySelector('.site-header');
        const navLinks = document.querySelectorAll('.side-nav a');

        // Handle scroll events
        function handleScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const currentTime = Date.now();

            // Calculate scroll velocity
            const scrollDelta = Math.abs(scrollTop - lastScrollTop);
            const timeDelta = currentTime - lastScrollTime;
            const velocity = timeDelta > 0 ? scrollDelta / timeDelta : 0;

            // Only apply on mobile
            if (window.innerWidth <= 768) {
                // Hide when scrolled down just 30px to prevent any overlap (with padding)
                if (scrollTop > lastScrollTop && scrollTop > 30) {
                    // Scrolling down - adjust transition speed based on velocity
                    // Fast scroll: 0.05s, normal scroll: 0.15s, slow scroll: 0.3s
                    const transitionDuration = Math.max(0.05, Math.min(0.3, 0.3 - (velocity * 0.5)));
                    header.style.transition = `transform ${transitionDuration}s ease-in-out`;
                    header.classList.add('hidden');
                    header.classList.remove('hidden-instant');
                } else if (scrollTop < lastScrollTop) {
                    // Scrolling up - always smooth
                    header.style.transition = 'transform 0.3s ease-in-out';
                    header.classList.remove('hidden', 'hidden-instant');
                }
            } else {
                // Remove classes on desktop
                header.classList.remove('hidden', 'hidden-instant');
            }

            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
            lastScrollTime = currentTime;
        }

        // Debounce scroll events
        window.addEventListener('scroll', () => {
            if (!isScrolling) {
                window.requestAnimationFrame(() => {
                    handleScroll();
                    isScrolling = false;
                });
                isScrolling = true;
            }
        }, { passive: true });

        // Handle navigation clicks
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (window.innerWidth <= 768) {
                    const targetId = link.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        e.preventDefault();

                        // Hide header instantly with no animation
                        header.style.transition = 'none';
                        header.classList.add('hidden');

                        // Snap to target instantly with offset for safe spacing
                        const targetPosition = targetElement.offsetTop - 20;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'auto'
                        });

                        // Re-enable transitions after snap
                        requestAnimationFrame(() => {
                            header.style.transition = '';
                        });
                    }
                }
            });
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                header.classList.remove('hidden', 'hidden-instant');
            }
        });
    </script>
</body>

</html>